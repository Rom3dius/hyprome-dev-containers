FROM ghcr.io/rom3dius/hyprome-dev-base:latest

LABEL com.github.containers.toolbox="true" \
      usage="This image is meant to be used with the toolbox or distrobox command" \
      summary="A cloud-native terminal experience (for hyprome)" \
      maintainer="r@romedius.xyz"

# Copy the setup scripts
COPY scripts/hyprome-dev/dev.sh /tmp/

# Install direct binaries
# Using single RUN to minimize layers
RUN chmod +x /tmp/dev.sh && \
    dnf -y install unzip && \
    /tmp/dev.sh && \
    dnf -y remove unzip && \
    dnf clean all && \
    rm -rf /var/cache/dnf /tmp/*.sh && \
    chmod 0755 /home
